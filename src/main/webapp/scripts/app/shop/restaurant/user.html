<div >
    <section ng-controller="tennancyUsers">
        <div class="sectionProjectControl userHeaderBox" bigeater-collapse="bigeaterCollapseState" bigeater-collapse-state="true">
            <a class="btn_typeAdd fl" ng-click="bigeaterCollapseState = false" ng-class="(bigeaterCollapseState == false) ? 'active' : ''">
                <span class="glyphicon glyphicon-plus-sign"></span>
            </a>
            <div class="clearfix crud Slide">
                <form name="userForm" class="form-horizontal" ng-submit="create()">
                    <div class="form-group">
                        <div>
                            <label for="login" class="col-sm-3 control-label">Login</label>
                            <div class="col-sm-9">
                                <input class="form-control" type="text" placeholder="Login" name="login" ng-model="shopUserAccount.login" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div>
                            <label for="firstname" class="col-sm-3 control-label">First name</label>
                            <div class="col-sm-9">
                                <input class="form-control" type="text" placeholder="First name" name="firstname" ng-model="shopUserAccount.firstName" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div>
                            <label for="lastname" class="col-sm-3 control-label">Last name</label>
                            <div class="col-sm-9">
                                <input class="form-control" type="text" placeholder="Last name" name="lastname" ng-model="shopUserAccount.lastName" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div>
                            <label for="password" class="col-sm-3 control-label">Password</label>
                            <div class="col-sm-9">
                                <input class="form-control" type="text" placeholder="Password" name="password" ng-model="shopUserAccount.password" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div>
                            <label for="email" class="col-sm-3 control-label">Email</label>
                            <div class="col-sm-9">
                                <input class="form-control" type="text" placeholder="Email" name="email" ng-model="shopUserAccount.email" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div>
                            <label for="roles" class="col-sm-3 control-label">Roles</label>
                            <div class="col-sm-9">
                                <!--<p>-->
                                    <!--<input type="checkbox" name="roles" >-->
                                    <!--<label>Tenancy Manager</label>-->
                                <!--</p>-->
                                <!--<p>-->
                                    <!--<input type="checkbox" name="roles" >-->
                                    <!--<label>Shop Manager</label>-->
                                <!--</p>-->
                                <p ng-repeat="role in roles">
                                    <input type="checkbox" name="roles" value="{{role.value}}" />
                                    <label>{{role.name}}</label>
                                </p>
                            </div>
                        </div>
                    </div>



                    <div class="actions fr">
                        <button type="submit" class="btn lumi-btn-pos" ng-click="createUser(); bigeaterCollapseState=true">add</button>
                        <button type="button" class="btn btn-default" ng-click="bigeaterCollapseState=true">cancel</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="tennancyUserList clearfix">
            <ul>
                <li ng-repeat="user in users">
                    <div class="userImage"></div>
                    <div class="userInfo">
                        <h4>{{user.firstName}} {{user.lastName}}</h4>
                        <div class="userEmail">
                            <p>{{user.email}}</p>
                        </div>
                        <section class="userPerms">
                            <p>
                                <input type="checkbox" name="TenancyManager" ng-show="user.expand">
                                <span ng-show="user.expand">tenancyManager</span>
                            </p>
                            <p>
                                <input type="checkbox" name="Shop Manager" ng-show="user.expand">
                                <span ng-show="user.expand">Shop Manager</span>
                            </p>
                            <form name="tenancyForm">
                                <p>
                                    <span ng-show="!user.expand">Tenancy Manager</span>
                                </p>
                                <p>
                                    <span ng-show="!user.expand">Shop Manager</span>
                                </p>
                            </form>
                        </section>
                    </div>
                    <div class="userActions clearfixer">
                        <a class="actionicon fl" ng-show="!user.expand" ng-click="showExpand(user)">
                            <span class="glyphicon glyphicon-pencil"></span>
                        </a>
                        <a class="actionicon fr" ng-if="userId !== user.user.userId" ng-show="!user.expand" ng-click="deleteUser(user.user.userId, user.user.profile.firstName+' '+user.user.profile.lastName)">
                            <span>iconTrash</span>
                        </a>
                        <a class="actionicon fl" ng-show="user.expand" ng-click="updateTenancyRoles(user)">
                            <span class="glyphicon glyphicon-refresh"></span>
                        </a>
                        <a class="actionicon fr" ng-show="user.expand" ng-click="showExpand(user)">
                            <span class="glyphicon glyphicon-ban-circle"></span>
                        </a>
                    </div>
                </li>
            </ul>
        </div>
    </section>
</div>
