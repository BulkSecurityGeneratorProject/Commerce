<section class="container" ng-controller="GroupController">
    <div class="row">
        <div class="col-lg-12" ui-tree="options">
            <ol ui-tree-nodes ng-model="groups" data-type="group" data-nodrag>
                <li ng-repeat="group in groups" ui-tree-node>
                    <div class="group-title angular-ui-tree-handle" ng-show="!group.editing">
                        <a href="" class="btn btn-danger btn-xs pull-right" data-nodrag ng-click="removeGroup(group)"><i class="glyphicon glyphicon-remove"></i></a>
                        <a href="" class="btn btn-primary btn-xs pull-right" data-nodrag ng-click="editGroup(group)"><i class="glyphicon glyphicon-pencil"></i></a>
                        <div>&nbsp;{{group.name}}</div>
                    </div>
                    <div class="group-title angular-ui-tree-handle" data-nodrag ng-show="group.editing">
                        <form class="form-inline" role="form">
                            <div class="form-group">
                                <label class="sr-only" for="groupName">Group name</label>
                                <input type="text" class="form-control" placeholder="Group name" ng-model="group.name">
                            </div>
                            <button type="submit" class="btn btn-default" ng-click="saveGroup(group)">Save</button>
                            <button type="submit" class="btn btn-default" ng-click="cancelEditingGroup(group)">Cancel</button>
                        </form>
                    </div>
                    <ol ui-tree-nodes ng-model="group.categories" data-type="category" data-nodrag>
                        <li ng-repeat="category in group.categories" ui-tree-node>
                            <div class="category-title angular-ui-tree-handle"  ng-show="!category.editing">
                                <a href="" class="btn btn-danger btn-xs pull-right" data-nodrag ng-click="removeCategory(group, category)"><i class="glyphicon glyphicon-remove"></i></a>
                                <a href="" class="btn btn-primary btn-xs pull-right" data-nodrag ng-click="editCategorty(group, category)"><i class="glyphicon glyphicon-pencil"></i></a>
                                <div>
                                    &nbsp;{{category.name}}
                                </div>
                            </div>
                            <div class="angular-ui-tree-handle" data-nodrag ng-show="category.editing">
                                <form class="form-inline" role="form">
                                    <div class="form-group">
                                        <label class="sr-only" for="categoryName">Category name</label>
                                        <input type="text" class="form-control" placeholder="Category name" ng-model="category.name">
                                    </div>
                                    <button type="submit" class="btn btn-default" ng-click="saveCategory(group, category)">Save</button>
                                    <button type="submit" class="btn btn-default" ng-click="cancelEditingCategory(group, category)">Cancel</button>
                                </form>
                            </div>
                        </li>
                    </ol>
                    <ol class="angular-ui-tree-nodes" data-nodrag>
                        <li class="angular-ui-tree-node">
                            <div class="category-title angular-ui-tree-handle">
                                <form class="form-inline" role="form">
                                    <div class="form-group">
                                        <label class="sr-only" for="categoryName">Category name</label>
                                        <input type="text" class="form-control" ng-model="group.newCategoryName" placeholder="Category name">
                                    </div>
                                    <button type="submit" class="btn btn-default" ng-click="addCategory(group)">Add Category</button>
                                </form>
                            </div>
                        </li>
                    </ol>
                </li>
            </ol>
            <ol class="angular-ui-tree-nodes">
                <li class="angular-ui-tree-node">
                    <div class="group-title angular-ui-tree-handle">
                        <form class="form-inline" role="form">
                            <div class="form-group">
                                <label class="sr-only" for="groupName">Group name</label>
                                <input type="text" class="form-control" id="groupName" placeholder="Group name">
                            </div>
                            <button type="submit" class="btn btn-default" ng-click="addGroup()">Add Group</button>
                        </form>
                    </div>
                </li>
            </ol>
        </div>
    </div>
</section>
